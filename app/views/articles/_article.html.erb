<div id="<%= dom_id article %>">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title"><%= link_to article.title, article %></h5>
      <h6 class="card-subtitle mb-2 text-body-secondary">by <%= article.user.email %></h6>
      <p class="card-text"><%= article.body %></p>
    </div>

    <ul class="list-group list-group-flush">
      <% article.comments.each do |comment| %>
        <li class="list-group-item">
          <% cache comment do %>
            <small><%= comment.user.email %></small><br>
            <%= comment.body %><br>

            <%= link_to comment_path(comment), data: { turbo_method: :delete } do %>
              <span class="badge text-bg-danger">
                <small>
                  <i class="bi bi-trash" style="color: white;"></i>
                </small>
              </span>
            <% end %>

            <small><%#= link_to 'Delete', comment_path(comment), data: { turbo_method: :delete } %></small>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>

  <%= render 'comments/form', url: nil, article: @article, comment: @comment if action_name == 'show' %>
</div>
